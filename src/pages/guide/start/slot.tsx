import { inject, useRef } from '@viewfly/core'
import { ViewUpdateInjectionToken } from '../injection-tokens'
export default function() {
  const subject = inject(ViewUpdateInjectionToken)
  const ref = useRef(node => {
    subject.next(node as HTMLElement)
  })
  return function() {
    return (
      <div ref={ref}><h1>插槽与格式</h1>
<p>前面我们已经初步了解了组件及 onContentInsert、onBreak 等勾子函数。这一节，我们将要开始涉及对文档内，可编辑内容的交互与控制。</p>
<p>什么是插槽？</p>
<p>插槽在 Textbus 中表示一段用户可以用光标选择或编辑的文档。插槽中的内容既可以是组件，也可以是文本。当用户在文档中点击或选择时，Textbus 总是会自动的把光标落在插槽内，当用户移动光标时，光标总是在插槽的内部移动，亦或是移动到别的插槽。同时，你设置光标时，也只能把光标设置在插槽内。</p>
<p>在组件一节，我们已经看到过插槽在组件内的使用。下面，我们将对插槽属性或方法进行说明。</p>
<h2>内容限制</h2>
<p>传统的富文本在用户编辑时，往往有很多的不可控因素，如浏览器行为不一致，用户的非常规操作，或者从其它地方复制了一些意外的内容。这也导致我们很难得到一个标准化的文档。同时，因为内容的不可控，也会导致这一块是富文本编辑器 bug 的重灾区。</p>
<p>Textbus 在设计时，充分考虑了在不同场景以及不同平台的场景，从内核层面保证了内容只能在我们的限制的条件下更改，并完全可以按照预期得到最终文档内容。</p>
<tb-alert data-type="default" class="tb-alert tb-alert-default">
  <div><strong style="color:rgb(18, 150, 219)">小知识：</strong>Textbus 抛弃了传统的 contenteditable 方案，采用完全自绘光标，并定义了富文本操作的一系列事件。并且，DOM 只是作为 Textbus 中浏览器平台的视图层，文档内容的渲染生成、重绘等操作，是完全可控的。经过长时间的验证，基本证明了 Textbus 的方案是可靠的，并且天然支持了跨平台能力，而插槽就类似一个开启了 contenteditable 属性的 DOM 元素。</div>
</tb-alert>
<p>在实例化插槽时，总是会要求你向传入插槽内可插入内容的类型，这是为了保证文档数据符合我们的预期。</p><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">import</span>&nbsp;{'{'} ContentType {'}'}&nbsp;<span class="tb-hl-keyword">from</span>&nbsp;<span class="tb-hl-string">'@textbus/core'</span></div><div class="tb-code-line"><br/></div><div class="tb-code-line"><span class="tb-hl-comment">// 只支持插入文字的插槽</span></div><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;slot =&nbsp;<span class="tb-hl-keyword">new</span>&nbsp;<span class="tb-hl-class-name">Slot</span>([</div><div class="tb-code-line">&nbsp;&nbsp;ContentType.Text</div><div class="tb-code-line">])</div><div class="tb-code-line"><br/></div><div class="tb-code-line"><span class="tb-hl-comment">// 支持插入 block 组件和 inline 组件及文本的插槽</span></div><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;slot2 =&nbsp;<span class="tb-hl-keyword">new</span>&nbsp;<span class="tb-hl-class-name">Slot</span>([</div><div class="tb-code-line">&nbsp;&nbsp;ContentType.Text</div><div class="tb-code-line">&nbsp;&nbsp;ContentType.InlineComponent</div><div class="tb-code-line">&nbsp;&nbsp;ContentType.BlockComponent</div><div class="tb-code-line">])</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<h2>内容操作</h2>
<p>大多数情况下，我们是不需要手动来操作插槽内容的增删改查的，这一部分往往是由用户输入的，但当我们需要做一些更复杂的交互时，了解插槽最基本的数据操作还是很有必要的。</p>
<p>由于插槽总是依附于组件而存在的，插槽渲染的根节点，也会因为组件的不同而不同，为方便理解，下面文档我们总是以插槽渲染为一个&nbsp;<code>&lt;div&gt;</code>&nbsp;标签来举例。&nbsp;</p>
<p>一个空插槽总是会包含一个&nbsp;<code>\n</code>&nbsp;的字符串，并渲染为一个包含&nbsp;<code>&lt;br&gt;</code>&nbsp;元素的节点，如下：</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">div</span>&gt;&lt;<span class="tb-hl-tag">br</span>&gt;&lt;/<span class="tb-hl-tag">div</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<p>这是因为当一个 DOM 元素没有任意内容时，在没有 css 的影响下，其高度将为 0，导致我们看不见。另一个原因是我们的光标将不能落在其中。</p>
<h3>插入文本</h3><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">insert</span>(<span class="tb-hl-string">'你好'</span>)</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>插槽内容将渲染为：</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">div</span>&gt;你好&lt;/<span class="tb-hl-tag">div</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<p>我们可以接着往插槽里插入内容。</p><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">insert</span>(<span class="tb-hl-string">'，我是 Textbus 富文本编辑器'</span>)</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>插槽内容将渲染为：</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">div</span>&gt;你好，我是 Textbus 富文本编辑器&lt;/<span class="tb-hl-tag">div</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<p>我们看到新的内容总是被插入到最后，这是因为插槽内部维护了一个当前操作的下标位置，默认为 0，当有新内容插入时，下标会随着新插入内容的长度而增加。</p>
<h3>在指定位置插入内容</h3>
<p>往插槽插入内容，默认总是插在最后，我们也可以把指定到我们想要的地方，再插入内容。</p><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">retain</span>(<span class="tb-hl-number">2</span>)</div><div class="tb-code-line">slot.<span class="tb-hl-function">insert</span>(<span class="tb-hl-string">'，新来的小伙伴'</span>)</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>插槽将渲染为：</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">div</span>&gt;你好，新来的小伙伴，我是 Textbus 富文本编辑器&lt;/<span class="tb-hl-tag">div</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<h3>删除内容</h3>
<p>通过 delete 方法，并传入要删除内容的长度，即可删除在插槽的内容。</p><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">retain</span>(<span class="tb-hl-number">20</span>)</div><div class="tb-code-line">slot.<span class="tb-hl-function">delete</span>(<span class="tb-hl-number">7</span>)</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>插槽将渲染为：</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">div</span>&gt;你好，新来的小伙伴，我是 Textbus&lt;/<span class="tb-hl-tag">div</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<p>需要注意的是，删除是从当前下标向后删除的。</p>
<tb-alert data-type="default" class="tb-alert tb-alert-default">
  <div><span style="color:#3aaafa">提示</span>：插槽不仅可以插入文本，也可以插入组件，前提是，当前插槽允许插入组件。</div>
</tb-alert>
<h1>格式</h1>
<p>什么是格式？</p>
<p>如果说组件是文档的骨架，那插槽就是我们留给用户填充血肉的地方，而格式就像是衣服，可以让用户进一步美化插槽内的内容。</p>
<p>格式分为行内格式（Foamtter) 和块级格式（Attribute）。</p>
<p>行内格式可以任意指定它在插槽内的作用范围。如加粗、斜体、字体颜色或对齐方式等。而块级格式则是整个插槽都会生效，所以不需要指定块级格式在插槽内的范围。</p>
<p>需要注意的是，格式不一定是 CSS 样式，也可以自定义的标签，或是 className。例如 a 标签，也是一种格式，在 @textbus/editor 包内，a 标签叫做 linkFormatter，它不仅渲染为 a 标签，还会渲染 href 和 target 属性。&nbsp;</p>
<p>在 Textbus 中，我们只能指定格式渲染为标签或是属性和生效范围。格式的渲染嵌套是由 Textbus 自动完成的，且不能像组件一样，定义一个复杂的模板。</p>
<h2>行内格式</h2>
<p>行内格式可以指定在插槽的任意范围内生效。其类型定义如下：</p><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-comment">/**</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* 格式渲染可回退的渲染模式</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* 一般情况下，我们会把格式渲染到一个标签内，但可能会产生一些冗余，通过回退渲染模式，可以优化渲染的结果</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;*</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* 默认情况的渲染结果：</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* ```html</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* &lt;strong&gt;&lt;span style="color: #f00"&gt;hello, Textbus!&lt;/span&gt;&lt;/strong&gt;</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* ```</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* 我们可以通过把样式附加到 strong 标签上，来减少 DOM 节点的生成。</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;*</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* 未优化前代码：</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* ```tsx</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* const colorFormatter = {'{'}</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* &nbsp;&nbsp;name: 'color',</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* &nbsp;&nbsp;render(children, formatValue) {'{'}</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;return &lt;span style={'{'}{'{'}color: formatValue{'}'}{'}'}&gt;{'{'}children{'}'}&lt;/span&gt;</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* &nbsp;&nbsp;{'}'}</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* {'}'}</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* ```</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* 优化后：</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* ```ts</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* const colorFormatter = {'{'}</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* &nbsp;&nbsp;name: 'color',</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* &nbsp;&nbsp;render(children, formatValue) {'{'}</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;return {'{'}</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fallbackTagName: 'span',</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attach(host) {'{'}</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;host.styles.set('color', formatValue)</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{'}'}</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;{'}'}</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* &nbsp;&nbsp;{'}'}</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* {'}'}</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* ```</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;*</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* 优化后渲染结果：</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* ```html</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* &lt;strong style="color: #f00"&gt;hello, Textbus!&lt;/strong&gt;</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* ```</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;*/</span></div><div class="tb-code-line"><span class="tb-hl-keyword">export</span>&nbsp;<span class="tb-hl-keyword">interface</span>&nbsp;<span class="tb-hl-class-name">FormatHostBindingRender</span>&nbsp;{'{'}</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-comment">/** 回退渲染的标签 */</span></div><div class="tb-code-line">&nbsp;&nbsp;fallbackTagName:&nbsp;<span class="tb-hl-builtin">string</span></div><div class="tb-code-line"><br/></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-comment">/** 给当前虚拟 DOM 节点附加信息的方法 */</span></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-function">attach</span>(host: VElement):&nbsp;<span class="tb-hl-keyword">void</span></div><div class="tb-code-line">{'}'}</div><div class="tb-code-line"><br/></div><div class="tb-code-line"><span class="tb-hl-comment">/**</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* Textbus 动态格式扩展接口</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* Formatter 可以在任意插槽的任意区域内生效，常用于行内样式或其它需要标记插槽内一部分内容的情况</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;*/</span></div><div class="tb-code-line"><span class="tb-hl-keyword">export</span>&nbsp;<span class="tb-hl-keyword">abstract</span>&nbsp;<span class="tb-hl-keyword">class</span>&nbsp;<span class="tb-hl-class-name">Formatter</span>&lt;T<span class="tb-hl-class-name">&nbsp;</span><span class="tb-hl-keyword">extends</span><span class="tb-hl-class-name">&nbsp;FormatValue</span>&gt; {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-comment">/**</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* 构造函数</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* @param name 格式的名字，在同一个编辑器实例内不可重复</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* @param columned 格式是否列对齐，默认情况下，Textbus 会采用最少节点的策略进行渲染，</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;但在某些情况下是不适用的，你可以通过设置 columned 值为 true，让</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Textbus 从格式变更处生成新的节点</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* @protected</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;*/</span></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-keyword">protected</span>&nbsp;<span class="tb-hl-function">constructor</span>(<span class="tb-hl-keyword">public</span>&nbsp;name:&nbsp;<span class="tb-hl-builtin">string</span>,&nbsp;<span class="tb-hl-keyword">public</span>&nbsp;columned?:&nbsp;<span class="tb-hl-builtin">boolean</span>) {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;{'}'}</div><div class="tb-code-line"><br/></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-comment">/**</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* 格式渲染的方法</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* @param children 子节点集合</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* @param formatValue 当前格式要渲染的值</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* @param renderEnv 渲染环境变量，你可以根据条件渲染不同的结果，renderEnv 的值由 slot.toTree 方法的第二个参数决定</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;*/</span></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-keyword">abstract</span>&nbsp;<span class="tb-hl-function">render</span>(</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;children:&nbsp;<span class="tb-hl-builtin">Array</span>&lt;VElement | VTextNode | ComponentInstance&gt;,</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;formatValue: T,</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;renderEnv:&nbsp;<span class="tb-hl-builtin">any</span>): VElement | FormatHostBindingRender</div><div class="tb-code-line">{'}'}</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<h3>格式名字 name</h3>
<p>格式的名字，需要注意的是，在一个编辑器实例中，格式的名字必须是唯一的。</p>
<h3>列对齐 columnd</h3>
<p>可选配置，是否启用列对齐渲染，默认为 false。Textbus 在渲染格式时，默认会按最少结构原则渲染 DOM 节点，如有一段加粗的文字，中间还有一段文字大小较大的文本。</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">p</span>&gt;我是 &lt;<span class="tb-hl-tag">strong</span>&gt;Textbus &lt;<span class="tb-hl-tag">span&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">font-size</span>: 30px"&gt;富文本编辑器&lt;/<span class="tb-hl-tag">span</span>&gt;&lt;/<span class="tb-hl-tag">strong</span>&gt;&lt;/<span class="tb-hl-tag">p</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<p>它们的渲染结果如下：</p>
<p><img src="data:image/png;base64,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" style="width:333.848px;height:66.4698px" class="tb-img" alt=""/></p>
<p>但如果我们把加粗的文本添加一个背景颜色，就会发现背景颜色和文字并没有完全对应。代码如下：</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">p</span>&gt;我是 &lt;<span class="tb-hl-tag">strong&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">background-color</span>: #ff0000"&gt;Textbus &lt;<span class="tb-hl-tag">span&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">font-size</span>: 30px"&gt;富文本编辑器&lt;/<span class="tb-hl-tag">span</span>&gt;&lt;/<span class="tb-hl-tag">strong</span>&gt;&lt;/<span class="tb-hl-tag">p</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<p>它们的渲染结果如下：</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAooAAABoCAYAAAB2Z9EsAAAgAElEQVR4nO2dfXwU9Z3H3yBqUNHgAyZnC2wrYhAOQ7WQqK2EAhIfCcVqIvgQH6qodzbqnYJexXB6GrVXxaoHtgUSrEA4tUSFErFCQqQQFDSlUAKKTVAkgeAlQmDuj+8u2ezOzM7uzu7m4ft+veb1gpnZ3/x2djLzme9jD8MwDBRFURRFURQlgJ6JnoCiKIqiKIrSMVGhqCiKoiiKopiiQlFRFEVRFEUxRYWioiiKoiiKYooKRUVRFEVRFMUUFYqKoiiKoiiKKSoUFUVRFEVRFFNUKCqKoiiKoiimqFBUFEVRFEVRTFGhqCiKoiiKopiiQlFRFEVRFEUxRYWioiiKoiiKYooKRUVRFEVRFMUUFYqKoiiKoiiKKSoUFUVRFEVRFFNUKCqKoiiKoiimqFBUFEVRFEVRTFGhqCiKoiiKopiiQlFRlJAYhsG+ffs4ePBgoqeiKDGltbWVQ4cOJXoaitJh6JXoCSiKknj+9re/sXPnTjZv3szBgwf57LPP2LZtG83NzWzcuJGmpiYAFixYQF5eXoJn6z7Nzc1s2bKF9evXs3r1anbt2sUrr7yCx+NJ9NRc4+uvvyYvL493333Xcp/Vq1dz0UUXxXFW9syfP58vv/ySKVOm0K9fv5gcwzAMdu/ezYcffkhpaSmrVq3ivvvu495776VHjx4xOaY/Bw4cYMGCBezbt49zzjmHvn37cswxx+DxeOjduzcnnHACvXv3jvk8FMUKFYqKotDY2MiNN95IXV2d7X5/+tOfuOaaazjxxBPjNDP3OXLkCFu3bmX9+vWsWbOGyspKqqurg/arrq7uUkKxs/Hll1+yePFi3nzzTR577DEmTpzI7bffzsiRI+nVK7pHV0NDA+vWrWPZsmW8++67bNmypd32RYsWcfXVVzNw4MCojuOE+vp65syZw/r16023L1++nLFjx8Z8HopihQpFRVE477zzGD9+PL/73e9s96uqqmLHjh2cd955cZqZ+xw6dIgXX3yRX//617b7vfXWW4wfP75Ti+LOzOrVq3nzzTcBaGpqYt68ecybN49hw4Zx++23c+2110ZsZSwrK+OGG26w3L5mzRpKS0u57777Ym5V/Mc//mEpEocPH07//v0djbNnzx42b97s5tQcc+aZZ5KWlma5/dtvv6W6upqWlhbXj52UlER6ejrHH3/80XWxPBcej4cBAwbEZOwOi6EoimIYxpIlSwwg5DJnzpxETzVqnHzXtLQ0Y/PmzYmeqmvs2bPHGD9+vO13Xr16daKnaRiGYezbt8+YOnWq7VwXLFgQ8fh79+41Jk6caDv+yJEjje3bt7v4rcz5/e9/bzmHKVOmGPv373c0zurVqx39/cZimTlzpu3cnFx7kS7jx4839uzZE7dzEc1111lRi6KidCIOHjzIkiVL+Oyzz1wfe+/evaSmpoZ0Py9YsIDdu3dzzDHHuHr8/v37M2nSJI477jhXxzUjPT2dkSNHUlVVZblPTU0Ny5cv79TW087KunXrWLp0qeX2q666Kip3bN++fbnhhhtsj1FVVcXSpUtjalU8fPgwf/3rXy23p6Wl0adPn5gcW1GcokJRUToRhw8f5v333+fll19O2BxWrVrFqlWrXB/3jjvu4JprrnF9XDPOOussMjMzbYUiwAcffMBNN91E37594zIvRRKLFi1adDSBKpA+ffpwyy230K9fPw4fPsymTZtobGwM+ziHDx9m2LBhbNq0yXKf119/HY/HE/bvn5yczLBhw0K+TB04cICtW7dabr/gggvCOq6ixAIVioqidDuOO+44Lr30Up577jnb/dauXcvWrVv54Q9/GKeZKZs2bToam2jGxIkTGT16NCAW9pdeeilmL05VVVXk5OSE/bk77riD5557LmS28ldffUVtba3ptszMTM4555ywj60obqNCUVGUbsnw4cPJzMykoqLCcp+6ujqWL1/OhRdeGJdSKd2db7/9luLiYsvwh9TUVPLz8zn55JPjPLPoqampYffu3UHrrBJZevfuzSeffGIpJH10y+QKJa6oUFQUpVuSkpLCBRdcYCsUAd5//33y8/NJTU2Ny7wOHjxo6XaNhoaGBlpbW233aWpq4uuvv3b92D179uSUU06hZ0/7Hg+bNm3ijTfesNyem5vLyJEj3Z5eXFi8eDGPPvqo4/1XrlzJypUrQ+63YMGCkELxmmuu4c4774wq/nfVqlU89thjEX/eitTUVKZMmcKpp55quc/evXuZP39+yPhpJ1x00UVcdtllHHvssZb7/PnPf6asrCzqY3UVVCgqitIh2b59Ow899FBE8WdO2blzZ8h9qqqq+NnPfhaTosdXXHEF99xzT7t169at4+KLL3b9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" style="width:329.85px;height:52.7759px" class="tb-img" alt=""/></p>
<p>为了让文字背景颜色和文字完全对应，我们需要在渲染把背景颜色根据文本拆分成多个格式段。如果我们把背景颜色的 formatter 的 columnd 配置为 true。这时，Textbus 在渲染时，就会自动根据内容拆分为单独的标签，从而使背景颜色和文字完全贴合。代码如下：</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">p</span>&gt;我是 &lt;<span class="tb-hl-tag">strong</span>&gt;&lt;<span class="tb-hl-tag">span&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">background-color</span>: #ff0000"&gt;Textbus &lt;/<span class="tb-hl-tag">span</span>&gt;&lt;<span class="tb-hl-tag">span&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">font-size</span>: 30px; background-color: #ff0000"&gt;富文本编辑器&lt;/<span class="tb-hl-tag">span</span>&gt;&lt;/<span class="tb-hl-tag">strong</span>&gt;&lt;/<span class="tb-hl-tag">p</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<p>展示结果如下：</p>
<p><img src="data:image/png;base64,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tkpaLb+BZZeL3NgdK7s1GyszcxPwScjZ47U3du1kM/79AWP2Ba4jsxWt8EatF3ceJCiFEGOCpOv7ecwSmatlqhC8E/gi8AWsu8/DmBWzmD+4u2Bdek70GTMWwnr2x2p4noxdE26tcA8Avufy+gciHLcMs/onz9+eWHmx3YAPYh2GprHzhTMEXTdhvH5u1uAkBxNcHsyvK5Rbx6bj8e42NDXgWOB9/UC0a2hnp8xxHKfYixBCBFBWlvHSm/j3sN6Twrt/03GA17He227sgt0Qim1dFEKInJGMAiQohRgbuAhKIYQQJYBkFCDDgBBCCCGEiIgEpRBCCCGEiIQEpRBCCCGEiIQEpRBCCCGEiIQEpRBCCCGEiIQEpRBCCCGEiIQKmwsxFlBZCiGEECWMLJRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECISEpRCCCGEECIS/w/VF8GK+DIOHQAAAABJRU5ErkJggg==" style="width:330.095px;height:60.5174px" class="tb-img" alt=""/></p>
<h3>渲染函数 render()</h3>
<p>渲染方法，自定义格式渲染的结果。你可以创建一个新的标签，或者在已有节点上添加你自己的属性（如果有的话）。格式只能是一个标签或在一个标签上添加属性，不能有自定义的嵌套结构。</p>
<p>render 方法在调用时，会传入三个参数，它们分别是：</p>
<ol>
  <li class="tb-list-item">element：和当前格式相同范围的已渲染节点。有可能没有，则你需要自己生成一个节点。</li>
  <li class="tb-list-item">formatValue：当前格式设置的值。它可以是任意值。根据格式的不同而不同。如 fontSizeFormatter，它的值可能是 '​12px' 这样的字符串；boldFormatter，它的值可能是 true 或者 false。</li>
  <li class="tb-list-item">isOutputMode：是否是输出模式。在某些场景中，我们需要编辑时和最终结果有一些差异，你可以根据此条件，生成不同的结果。</li>
</ol>
<p>我们以加粗为例：</p><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">export</span>&nbsp;<span class="tb-hl-keyword">const</span>&nbsp;boldFormatter = {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;name:&nbsp;<span class="tb-hl-string">'BoldFormatter'</span>,</div><div class="tb-code-line">&nbsp;&nbsp;columnd:&nbsp;<span class="tb-hl-boolean">false</span>,</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-function">render</span>(children) {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tb-hl-keyword">return</span>&nbsp;<span class="tb-hl-function">createVNode</span>(<span class="tb-hl-string">'strong'</span>,&nbsp;<span class="tb-hl-keyword">null</span>, children)</div><div class="tb-code-line">&nbsp;&nbsp;{'}'}</div><div class="tb-code-line">{'}'}</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>下面，我们就可以给插槽添加格式了。</p>
<h3>行内格式操作</h3>
<h4>插入带样式的文本</h4><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">insert</span>(<span class="tb-hl-string">' 我是 Textbus'</span>, boldFormatter,&nbsp;<span class="tb-hl-boolean">true</span>)</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>插槽内容将渲染为：</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">div</span>&gt;hello world!&lt;<span class="tb-hl-tag">strong</span>&gt; 我是 Textbus&lt;/<span class="tb-hl-tag">strong</span>&gt;&lt;/<span class="tb-hl-tag">div</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<h4>自动延展样式</h4><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">write</span>(<span class="tb-hl-string">'，欢迎你使用。'</span>)</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>插槽内容将渲染为：</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">div</span>&gt;hello world!&lt;<span class="tb-hl-tag">strong</span>&gt; 我是 Textbus，欢迎你使用。&lt;/<span class="tb-hl-tag">strong</span>&gt;&lt;/<span class="tb-hl-tag">div</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<p>通过 write 方法会把光标前面的紧挨着的样式自动延展到新插入的内容上。</p>
<h4>移动下标位置</h4>
<p>当我们往插槽内插入内容时，插槽会自动更新内容的下标位置。所以新的内容总是会添加到插槽的末尾。当我们需要在指定位置插入内容时，我们可以先设置下标，再插入内容。</p><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">retain</span>(<span class="tb-hl-number">0</span>)&nbsp;<span class="tb-hl-comment">// 设置下标</span></div><div class="tb-code-line">slot.<span class="tb-hl-function">insert</span>(<span class="tb-hl-string">'😁 '</span>)</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>插槽内容将渲染为：</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">div</span>&gt;😁 hello world!&lt;<span class="tb-hl-tag">strong</span>&gt; 我是 Textbus，欢迎你使用。&lt;/<span class="tb-hl-tag">strong</span>&gt;&lt;/<span class="tb-hl-tag">div</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<h4>删除内容</h4><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">cut</span>(<span class="tb-hl-number">0</span>,&nbsp;<span class="tb-hl-number">15</span>)</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>插槽内容将渲染为：</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">div</span>&gt;&lt;<span class="tb-hl-tag">strong</span>&gt;我是 Textbus，欢迎你使用。&lt;/<span class="tb-hl-tag">strong</span>&gt;&lt;/<span class="tb-hl-tag">div</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<h4>添加样式</h4>
<p>我们还可以添加更多样式，如：</p><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;colorFormatter: Formatter&lt;<span class="tb-hl-builtin">string</span>&gt; = {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;name:&nbsp;<span class="tb-hl-string">'color'</span>,</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-function">render</span>(children, value) {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tb-hl-keyword">return</span>&nbsp;<span class="tb-hl-function">createVNode</span>(<span class="tb-hl-string">'span'</span>, {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style: {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color: value</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{'}'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;{'}'}, children)</div><div class="tb-code-line">&nbsp;&nbsp;{'}'}</div><div class="tb-code-line">{'}'}</div><div class="tb-code-line"><br/></div><div class="tb-code-line">slot.<span class="tb-hl-function">applyFormat</span>(colorFormatter, {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;startIndex:&nbsp;<span class="tb-hl-number">3</span>,</div><div class="tb-code-line">&nbsp;&nbsp;endIndex:&nbsp;<span class="tb-hl-number">10</span>,</div><div class="tb-code-line">&nbsp;&nbsp;value:&nbsp;<span class="tb-hl-string">'#f00'</span></div><div class="tb-code-line">{'}'})</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>插槽将渲染为：</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">div</span>&gt;&lt;<span class="tb-hl-tag">strong</span>&gt;我是 &lt;<span class="tb-hl-tag">span&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">color</span>: #f00"&gt;Textbus&lt;/<span class="tb-hl-tag">span</span>&gt;，欢迎你使用。&lt;/<span class="tb-hl-tag">strong</span>&gt;&lt;/<span class="tb-hl-tag">div</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<h2>块级样式</h2>
<p>块级样式和行业样式类似，但是是针对一整个插槽的样式，并且我们不能在渲染块级样式时添加节点，而只能在已有节点上附加属性。其接口声明如下：</p><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-comment">/**</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* Textbus 动态属性扩展接口</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;* Attribute 可以在任意插槽的整体生效，常用于块级样式或给事个插槽附加信息的情况</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;*/</span></div><div class="tb-code-line"><span class="tb-hl-keyword">export</span>&nbsp;<span class="tb-hl-keyword">abstract</span>&nbsp;<span class="tb-hl-keyword">class</span>&nbsp;<span class="tb-hl-class-name">Attribute</span>&lt;T<span class="tb-hl-class-name">&nbsp;</span><span class="tb-hl-keyword">extends</span><span class="tb-hl-class-name">&nbsp;FormatValue</span>&gt; {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-comment">/**</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* 构建函数</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* @param name 属性的名字，在同一个编辑器实例内不可重复</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* @protected</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;*/</span></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-keyword">protected</span>&nbsp;<span class="tb-hl-function">constructor</span>(<span class="tb-hl-keyword">public</span>&nbsp;name:&nbsp;<span class="tb-hl-builtin">string</span>) {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;{'}'}</div><div class="tb-code-line"><br/></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-comment">/**</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* 渲染属性的方法</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* @param node 不附加属性的节点</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* @param formatValue 要附加属性的值</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;* @param renderEnv 渲染环境变量，你可以根据条件渲染不同的结果，renderEnv 的值由 slot.toTree 方法的第二个参数决定</span></div><div class="tb-code-line"><span class="tb-hl-comment">&nbsp;&nbsp;&nbsp;*/</span></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-keyword">abstract</span>&nbsp;<span class="tb-hl-function">render</span>(</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;node: VElement,</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;formatValue: T,</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;renderEnv:&nbsp;<span class="tb-hl-builtin">any</span></div><div class="tb-code-line">&nbsp;&nbsp;):&nbsp;<span class="tb-hl-keyword">void</span></div><div class="tb-code-line">{'}'}</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>注意，块级样式不需要指定范围。</p><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;textAlignAttribute: Attribute&lt;<span class="tb-hl-builtin">string</span>&gt; = {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;name:&nbsp;<span class="tb-hl-string">'textAlign'</span>,</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-function">render</span>(node, value) {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;node.styles.<span class="tb-hl-function">set</span>(<span class="tb-hl-string">'textAlign'</span>, value)</div><div class="tb-code-line">&nbsp;&nbsp;{'}'}</div><div class="tb-code-line">{'}'}</div><div class="tb-code-line"><br/></div><div class="tb-code-line">slot.<span class="tb-hl-function">setAttribute</span>(textAlignAttribute,&nbsp;<span class="tb-hl-string">'right'</span>)</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>插槽将渲染为：</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">div&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">text-align</span>: right"&gt;&lt;<span class="tb-hl-tag">strong</span>&gt;我是 &lt;<span class="tb-hl-tag">span&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">color</span>: #f00"&gt;Textbus&lt;/<span class="tb-hl-tag">span</span>&gt;，欢迎你使用。&lt;/<span class="tb-hl-tag">strong</span>&gt;&lt;/<span class="tb-hl-tag">div</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<h2>清除样式</h2>
<p>我们可以把 value 指定为 null 来清除插槽内的样式。</p>
<h3>清除行内样式</h3><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">applyFormat</span>(boldFormatter, {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;startIndex:&nbsp;<span class="tb-hl-number">0</span>,</div><div class="tb-code-line">&nbsp;&nbsp;endIndex: slot.length,</div><div class="tb-code-line">&nbsp;&nbsp;value:&nbsp;<span class="tb-hl-keyword">null</span></div><div class="tb-code-line">{'}'})</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>插槽将渲染为：</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">div&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">text-align</span>: right"&gt;我是 &lt;<span class="tb-hl-tag">span&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">color</span>: #f00"&gt;Textbus&lt;/<span class="tb-hl-tag">span</span>&gt;，欢迎你使用。&lt;/<span class="tb-hl-tag">div</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<h3>清除块级样式</h3><pre lang="TypeScript" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">removeAttribute</span>(textAlignAttribute)</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>插槽将渲染为：</p><pre lang="HTML" theme="starry" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">div</span>&gt;我是 &lt;<span class="tb-hl-tag">span&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">color</span>: #f00"&gt;Textbus&lt;/<span class="tb-hl-tag">span</span>&gt;，欢迎你使用。&lt;/<span class="tb-hl-tag">div</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre>
<tb-alert data-type="default" class="tb-alert tb-alert-default">
  <div><strong style="color:rgb(18, 150, 219)">提示：</strong>在实际场景中，我们控制内容样式很少会需要手动调用 Slot 的方法来完成格式操作，更多是通过 Commander 来间接操作。Commander 可以根据用户选区的范围，自动帮我们完成多个插槽的格式变换。</div>
</tb-alert>
<p><br/></p>
<p><br/></p>
<p><br/></p>
<p><br/></p>
<p><br/></p>
<p><br/></p>
<p><br/></p>
<p><br/></p>
<p><br/></p>
<h3>行内格式加载器</h3>
<p>和组件一样，格式也需要能够识别 DOM 节点，我们同样需要加载器来完成这个工作，格式加载器接口定义如下：</p><pre lang="TypeScript" theme="dark" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">export</span>&nbsp;<span class="tb-hl-keyword">interface</span>&nbsp;<span class="tb-hl-class-name">FormatLoaderReadResult</span>&nbsp;{'{'}</div><div class="tb-code-line">&nbsp;&nbsp;formatter: Formatter</div><div class="tb-code-line">&nbsp;&nbsp;value: FormatValue</div><div class="tb-code-line">{'}'}</div><div class="tb-code-line"><br/></div><div class="tb-code-line"><span class="tb-hl-keyword">export</span>&nbsp;<span class="tb-hl-keyword">interface</span>&nbsp;<span class="tb-hl-class-name">FormatLoader</span>&nbsp;{'{'}</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-function">match</span>(element: HTMLElement):&nbsp;<span class="tb-hl-builtin">boolean</span></div><div class="tb-code-line"><br/></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-function">read</span>(element: HTMLElement): FormatLoaderReadResult</div><div class="tb-code-line">{'}'}</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<tb-word-explain>
  <div style="width:140px" class="tb-word-explain-title-group">
    <div style="text-align:right" class="tb-word-explain-title"><strong>match()</strong></div>
    <div style="text-align:right" class="tb-word-explain-subtitle">用于识别格式的方法</div>
  </div>
  <div class="tb-word-explain-detail">匹配一个节点是否为一个格式节点。返回 boolean 值。</div>
</tb-word-explain>
<tb-word-explain>
  <div style="width:140px" class="tb-word-explain-title-group">
    <div style="text-align:right" class="tb-word-explain-title"><strong>read()</strong></div>
    <div style="text-align:right" class="tb-word-explain-subtitle">读取格式值的方法</div>
  </div>
  <div class="tb-word-explain-detail">当 match 方法返回值为 true 时，则会调用 read 方法获取格式的值并返回。</div>
</tb-word-explain>
<p>我们以字体大小为例，创建一个加载器对应的 Formatter：</p><pre lang="TypeScript" theme="dark" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">export</span>&nbsp;<span class="tb-hl-keyword">const</span>&nbsp;fontSizeFormatter = {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;name:&nbsp;<span class="tb-hl-string">'FontSizeFormatter'</span>,</div><div class="tb-code-line">&nbsp;&nbsp;columnd:&nbsp;<span class="tb-hl-boolean">false</span>,</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-function">render</span>(chilren, value) {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tb-hl-keyword">return</span>&nbsp;{'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fallbackTagName:&nbsp;<span class="tb-hl-string">'span'</span>,</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tb-hl-function">attach</span>(host: VElement) {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element.styles.<span class="tb-hl-function">set</span>(<span class="tb-hl-string">'fontSize'</span>, value)</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{'}'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;{'}'}</div><div class="tb-code-line">&nbsp;&nbsp;{'}'}</div><div class="tb-code-line">{'}'}</div><div class="tb-code-line"><br/></div><div class="tb-code-line"><span class="tb-hl-keyword">export</span>&nbsp;<span class="tb-hl-keyword">const</span>&nbsp;fontSizeFormatLoader = {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-comment">// 匹配一个节点是否为格式节点</span></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-function">match</span>(element) {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tb-hl-keyword">return</span>&nbsp;!!element.style.fontSize</div><div class="tb-code-line">&nbsp;&nbsp;{'}'},</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-comment">// 读取格式的值</span></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-function">read</span>(element) {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tb-hl-keyword">return</span>&nbsp;{'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;formatter: fontSizeFormatter,</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value: element.style.fontSize</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;{'}'}</div><div class="tb-code-line">&nbsp;&nbsp;{'}'}</div><div class="tb-code-line">{'}'}</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<h3>应用行内格式</h3>
<p>现在，我们可以把我们创建好的格式添加到编辑器中了。</p><pre lang="TypeScript" theme="dark" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content tb-color-content-highlight"><div class="tb-code-line"><span class="tb-hl-keyword">import</span>&nbsp;{'{'} Commander {'}'}&nbsp;<span class="tb-hl-keyword">from</span>&nbsp;<span class="tb-hl-string">'@textbus/core'</span></div><div class="tb-code-line"><span class="tb-hl-keyword">import</span>&nbsp;{'{'} Viewer {'}'}&nbsp;<span class="tb-hl-keyword">from</span>&nbsp;<span class="tb-hl-string">'@textbus/platform-browser'</span></div><div class="tb-code-line"><br/></div><div class="tb-code-line"><span class="tb-hl-keyword">import</span>&nbsp;{'{'} rootComponent, rootComponentLoader {'}'}&nbsp;<span class="tb-hl-keyword">from</span>&nbsp;<span class="tb-hl-string">'./root.component'</span></div><div class="tb-code-line"><span class="tb-hl-keyword">import</span>&nbsp;{'{'} cardComponent, cardComponentLoader {'}'}&nbsp;<span class="tb-hl-keyword">from</span>&nbsp;<span class="tb-hl-string">'./card.component'</span></div><div class="tb-code-line"><span class="tb-hl-keyword">import</span>&nbsp;{'{'} paragraphComponent, paragraphComponentLoader {'}'}&nbsp;<span class="tb-hl-keyword">from</span>&nbsp;<span class="tb-hl-string">'./paragraph.component'</span></div><div class="tb-code-line"><span class="tb-hl-keyword">import</span>&nbsp;{'{'} todolistComponent, todolistComponentLoader {'}'}&nbsp;<span class="tb-hl-keyword">from</span>&nbsp;<span class="tb-hl-string">'./todolist.component'</span></div><div class="tb-code-line-emphasize tb-code-line"><span class="tb-hl-keyword">import</span>&nbsp;{'{'} fontSizeFormatLoader, fontSizeFormatter {'}'}&nbsp;<span class="tb-hl-keyword">from</span>&nbsp;<span class="tb-hl-string">'./font-size-formatter'</span></div><div class="tb-code-line"><br/></div><div class="tb-code-line"><span class="tb-hl-comment">// 获取编辑器容器</span></div><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;editorBox = document.<span class="tb-hl-function">getElementById</span>(<span class="tb-hl-string">'editor'</span>)</div><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;editor=&nbsp;<span class="tb-hl-keyword">new</span>&nbsp;<span class="tb-hl-class-name">Viewer</span>(rootComponent, rootComponentLoader, {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;componentLoaders: [</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;todolistComponentLoader,</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;cardComponentLoader,</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;paragraphComponentLoader</div><div class="tb-code-line">&nbsp;&nbsp;],</div><div class="tb-code-line">&nbsp;&nbsp;components: [</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;todolistComponent,</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;cardComponent,</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;paragraphComponent</div><div class="tb-code-line">&nbsp;&nbsp;],</div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;formatLoaders: [</div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;fontSizeFormatLoader</div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;],</div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;formatters: [</div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;fontSizeFormatter</div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;]</div><div class="tb-code-line">{'}'})</div><div class="tb-code-line"><br/></div><div class="tb-code-line">editor.<span class="tb-hl-function">mount</span>(editorBox)</div><div class="tb-code-line"><br/></div><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;insertCardButton = document.<span class="tb-hl-function">getElementById</span>(<span class="tb-hl-string">'insert-card'</span>)</div><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;injector = editor.injector</div><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;commander = injector.<span class="tb-hl-function">get</span>(Commander)</div><div class="tb-code-line"><br/></div><div class="tb-code-line">insertCardButton.<span class="tb-hl-function">addEventListener</span>(<span class="tb-hl-string">'click'</span>, () =&gt; {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-keyword">const</span>&nbsp;card = cardComponent.<span class="tb-hl-function">createInstance</span>(injector)</div><div class="tb-code-line">&nbsp;&nbsp;commander.<span class="tb-hl-function">insert</span>(card)</div><div class="tb-code-line">{'}'})</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>至此，我们的编辑器就可以支持文字大小的功能了。</p>
<h4>动态设置格式</h4>
<p>我们虽然添加了 fontSizeFormatter，但并没有一个工具去触发，让它在编辑器内动态添加上去。让我们在页面添加一个按钮，当用户点击的时候，就让编辑器内的文字加粗。</p><pre lang="HTML" theme="dark" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content tb-color-content-highlight"><div class="tb-code-line">&lt;<span class="tb-hl-tag">div</span>&gt;</div><div class="tb-code-line">&nbsp;&nbsp;&lt;<span class="tb-hl-tag">button&nbsp;</span><span class="tb-hl-attr-name">id</span>="<span class="tb-hl-attr-value">insert-cord</span>"<span class="tb-hl-tag">&nbsp;</span><span class="tb-hl-attr-name">type</span>="<span class="tb-hl-attr-value">button</span>"&gt;插入卡片&lt;/<span class="tb-hl-tag">button</span>&gt;</div><div class="tb-code-line">&nbsp;&nbsp;&lt;<span class="tb-hl-tag">button&nbsp;</span><span class="tb-hl-attr-name">id</span>="<span class="tb-hl-attr-value">insert-todolist</span>"<span class="tb-hl-tag">&nbsp;</span><span class="tb-hl-attr-name">type</span>="<span class="tb-hl-attr-value">button</span>"&gt;插入待办事项&lt;/<span class="tb-hl-tag">button</span>&gt;</div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;&lt;<span class="tb-hl-tag">button&nbsp;</span><span class="tb-hl-attr-name">id</span>="<span class="tb-hl-attr-value">font-size-btn</span>"<span class="tb-hl-tag">&nbsp;</span><span class="tb-hl-attr-name">type</span>="<span class="tb-hl-attr-value">button</span>"&gt;设置为 12px&lt;/<span class="tb-hl-tag">button</span>&gt;</div><div class="tb-code-line">&lt;/<span class="tb-hl-tag">div</span>&gt;</div><div class="tb-code-line">&lt;<span class="tb-hl-tag">div&nbsp;</span><span class="tb-hl-attr-name">id</span>="<span class="tb-hl-attr-value">editor</span>"&gt;&lt;/<span class="tb-hl-tag">div</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></div></pre><pre lang="TypeScript" theme="dark" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content tb-color-content-highlight"><div class="tb-code-line">...</div><div class="tb-code-line"><br/></div><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;injector = editor.injector</div><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;commander = injector.<span class="tb-hl-function">get</span>(Commander)</div><div class="tb-code-line-emphasize tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;fontSizeBtn = document.<span class="tb-hl-function">getElementById</span>(<span class="tb-hl-string">'font-size-btn'</span>)</div><div class="tb-code-line-emphasize tb-code-line">fontSizeBtn.<span class="tb-hl-function">addEventListener</span>(<span class="tb-hl-string">'click'</span>, () =&gt; {'{'}</div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;commander.<span class="tb-hl-function">applyFormat</span>(fontSizeFormatter,&nbsp;<span class="tb-hl-string">'12px'</span>)</div><div class="tb-code-line-emphasize tb-code-line">{'}'})</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>现在，我们框选一段文字并点击设置按钮时，你就会看到文字已经添加了 fontSize=12px 的样式了，如果，光标是闭合的，Textbus 也会智能的让后面输入的文字生效。</p>
<p>在实际的应用中，仅仅设置是不满足需求的，我们更希望如果已经生效了，则取消效果。这时，则需要状态查询来帮助我们完成相应的功能。让我们继续完善上面的功能。</p><pre lang="TypeScript" theme="dark" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content tb-color-content-highlight"><div class="tb-code-line-emphasize tb-code-line"><span class="tb-hl-keyword">import</span>&nbsp;{'{'} Commander, Query, QueryStateType {'}'}&nbsp;<span class="tb-hl-keyword">from</span>&nbsp;<span class="tb-hl-string">'@textbus/core'</span></div><div class="tb-code-line">...</div><div class="tb-code-line"><br/></div><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;injector = editor.injector</div><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;commander = injector.<span class="tb-hl-function">get</span>(Commander)</div><div class="tb-code-line-emphasize tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;query = injector.<span class="tb-hl-function">get</span>(Query)</div><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;fontSizeBtn = document.<span class="tb-hl-function">getElementById</span>(<span class="tb-hl-string">'font-size-btn'</span>)</div><div class="tb-code-line">fontSizeBtn.<span class="tb-hl-function">addEventListener</span>(<span class="tb-hl-string">'click'</span>, () =&gt; {'{'} &nbsp;&nbsp;<span class="tb-hl-comment">// 通过 Query，查询当前光标所在范围是否已生效</span></div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;<span class="tb-hl-keyword">const</span>&nbsp;queryState = query.<span class="tb-hl-function">queryFormat</span>(fontSizeFormatter)</div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;<span class="tb-hl-keyword">const</span>&nbsp;isValid = queryState.state === QueryStateType.Enabled &amp;&amp; queryState.value ===&nbsp;<span class="tb-hl-string">'12px'</span></div><div class="tb-code-line-emphasize tb-code-line"><br/></div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;<span class="tb-hl-comment">// 如果已生效，我们则取消效果，否则就再次应用</span></div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;<span class="tb-hl-keyword">if</span>&nbsp;(isValid) {'{'}</div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;commander.<span class="tb-hl-function">unApplyFormat</span>(fontSizeFormatter)</div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;{'}'}&nbsp;<span class="tb-hl-keyword">else</span>&nbsp;{'{'}</div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;commander.<span class="tb-hl-function">applyFormat</span>(fontSizeFormatter,&nbsp;<span class="tb-hl-string">'12px'</span>)</div><div class="tb-code-line-emphasize tb-code-line">&nbsp;&nbsp;{'}'}</div><div class="tb-code-line">{'}'})</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>至此，我们的文本大小工具，就基本完成了。</p>
<p>你还可以进一步完善，根据查询的结果，设置按钮是否高亮，由于这并不是富文本的核心内容，这里就不再过多说明了。</p>
<h2>块级格式</h2>
<p>块级格式用于对整个插槽设置格式，其类型定义如下：</p><pre lang="TypeScript" theme="dark" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">export</span>&nbsp;<span class="tb-hl-keyword">abstract</span>&nbsp;<span class="tb-hl-keyword">class</span>&nbsp;<span class="tb-hl-class-name">Attribute</span>&lt;T<span class="tb-hl-class-name">&nbsp;</span><span class="tb-hl-keyword">extends</span><span class="tb-hl-class-name">&nbsp;FormatValue</span>&gt; {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-keyword">protected</span>&nbsp;<span class="tb-hl-function">constructor</span>(<span class="tb-hl-keyword">public</span>&nbsp;name:&nbsp;<span class="tb-hl-builtin">string</span>) {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;{'}'}</div><div class="tb-code-line"><br/></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-keyword">abstract</span>&nbsp;<span class="tb-hl-function">render</span>(</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;node: VElement,</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;formatValue: T,</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;renderMode: RenderMode</div><div class="tb-code-line">&nbsp;&nbsp;):&nbsp;<span class="tb-hl-keyword">void</span></div><div class="tb-code-line">{'}'}</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<h3>创建块级格式</h3><pre lang="TypeScript" theme="dark" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;alignAttribute: Attribute&lt;<span class="tb-hl-builtin">string</span>&gt; = {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;name:&nbsp;<span class="tb-hl-string">'alignAttribute'</span>,</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-function">render</span>(vElement, value) {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;vElement.styles.<span class="tb-hl-function">set</span>(<span class="tb-hl-string">'text-align'</span>, value)</div><div class="tb-code-line">&nbsp;&nbsp;{'}'}</div><div class="tb-code-line">{'}'}</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<h3>应用块级格式</h3><pre lang="TypeScript" theme="dark" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">commander.<span class="tb-hl-function">applyAttribute</span>(alignAttribute,&nbsp;<span class="tb-hl-string">'right'</span>)</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<h3>删除块级格式</h3><pre lang="TypeScript" theme="dark" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">commander.<span class="tb-hl-function">unApplyAttribute</span>(alignAttribute)</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<h3>查询块级格式</h3><pre lang="TypeScript" theme="dark" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;state = query.<span class="tb-hl-function">queryAttribute</span>(alignAttribute)</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<h3>块级格式加载器</h3><pre lang="TypeScript" theme="dark" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">export</span>&nbsp;<span class="tb-hl-keyword">const</span>&nbsp;alignAttribute: Attribute&lt;<span class="tb-hl-builtin">string</span>&gt; = {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;name:&nbsp;<span class="tb-hl-string">'alignAttribute'</span>,</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-function">render</span>(vElement, value) {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;vElement.styles.<span class="tb-hl-function">set</span>(<span class="tb-hl-string">'text-align'</span>, value)</div><div class="tb-code-line">&nbsp;&nbsp;{'}'}</div><div class="tb-code-line">{'}'}</div><div class="tb-code-line"><br/></div><div class="tb-code-line"><span class="tb-hl-keyword">export</span>&nbsp;<span class="tb-hl-keyword">const</span>&nbsp;alignAttributeLoader = {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-comment">// 匹配一个节点是否为格式节点</span></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-function">match</span>(element) {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tb-hl-keyword">return</span>&nbsp;!!element.style.textAlign</div><div class="tb-code-line">&nbsp;&nbsp;{'}'},</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-comment">// 读取格式的值</span></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-function">read</span>(element) {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="tb-hl-keyword">return</span>&nbsp;{'{'}</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attribute: alignAttribute,</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value: element.style.textAlign</div><div class="tb-code-line">&nbsp;&nbsp;&nbsp;&nbsp;{'}'}</div><div class="tb-code-line">&nbsp;&nbsp;{'}'}</div><div class="tb-code-line">{'}'}</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p>要使用块级格式生效，只需要将我们创建的块级格式和加载器添加到编辑器配置项中即可。</p><pre lang="TypeScript" theme="dark" line-number class="tb-pre"><div class="tb-pre-content"><div style="width:2.5em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;editor =&nbsp;<span class="tb-hl-keyword">new</span>&nbsp;<span class="tb-hl-class-name">Viewer</span>(rootComponent, rootComponentLoader, {'{'}</div><div class="tb-code-line">&nbsp;&nbsp;attributes: [alignAttribute],</div><div class="tb-code-line">&nbsp;&nbsp;attributeLoaders: [alignAttributeLoader]</div><div class="tb-code-line">{'}'})</div></div><span class="tb-pre-lang">TypeScript</span></div></pre>
<p style="text-align:center">下一节：<a target="_self" href="https://textbus.io/docs/plugin">插件</a></p></div>
    )
  }
}
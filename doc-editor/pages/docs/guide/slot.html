<h1>æ’æ§½</h1>
<p>ä»€ä¹ˆæ˜¯æ’æ§½ï¼Ÿ</p>
<p>æ’æ§½åœ¨ Textbus ä¸­è¡¨ç¤ºä¸€æ®µç”¨æˆ·å¯ä»¥ç”¨å…‰æ ‡é€‰æ‹©æˆ–ç¼–è¾‘çš„æ–‡æ¡£ã€‚æ’æ§½ä¸­çš„å†…å®¹æ—¢å¯ä»¥æ˜¯ç»„ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯æ–‡æœ¬ã€‚å½“ç”¨æˆ·åœ¨æ–‡æ¡£ä¸­ç‚¹å‡»æˆ–é€‰æ‹©æ—¶ï¼ŒTextbus æ€»æ˜¯ä¼šè‡ªåŠ¨çš„æŠŠå…‰æ ‡è½åœ¨æ’æ§½å†…ï¼Œå½“ç”¨æˆ·ç§»åŠ¨å…‰æ ‡æ—¶ï¼Œä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä½ è®¾ç½®å…‰æ ‡æ—¶ï¼Œä¹Ÿåªèƒ½æŠŠå…‰æ ‡è®¾ç½®åœ¨æ’æ§½å†…ã€‚</p>
<p>åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸€èŠ‚ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°è¿‡æ’æ§½åœ¨ç»„ä»¶å†…çš„ä½¿ç”¨ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å°†å¯¹æ’æ§½å±æ€§æˆ–æ–¹æ³•è¿›è¡Œè¯´æ˜ã€‚</p>
<h2>å†…å®¹é™åˆ¶</h2>
<p>åœ¨å®ä¾‹åŒ–æ’æ§½æ—¶ï¼Œæ€»æ˜¯ä¼šè¦æ±‚ä½ å‘ä¼ å…¥æ’æ§½å†…å¯æ’å…¥å†…å®¹çš„ç±»å‹ï¼Œè¿™æ˜¯ä¸ºäº†ä¿è¯æ–‡æ¡£æ•°æ®ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸã€‚</p><pre theme="dark" lang="TypeScript" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">import</span>&nbsp;{ ContentType }&nbsp;<span class="tb-hl-keyword">from</span>&nbsp;<span class="tb-hl-string">'@textbus/core'</span></div><div class="tb-code-line"><br></div><div class="tb-code-line"><span class="tb-hl-comment">// åªæ”¯æŒæ’å…¥æ–‡å­—çš„æ’æ§½</span></div><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;slot =&nbsp;<span class="tb-hl-keyword">new</span>&nbsp;<span class="tb-hl-class-name">Slot</span>([</div><div class="tb-code-line">&nbsp;&nbsp;ContentType.Text</div><div class="tb-code-line">])</div><div class="tb-code-line"><br></div><div class="tb-code-line"><span class="tb-hl-comment">// æ”¯æŒæ’å…¥ block ç»„ä»¶å’Œ inline ç»„ä»¶åŠæ–‡æœ¬çš„æ’æ§½</span></div><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;slot2 =&nbsp;<span class="tb-hl-keyword">new</span>&nbsp;<span class="tb-hl-class-name">Slot</span>([</div><div class="tb-code-line">&nbsp;&nbsp;ContentType.Text</div><div class="tb-code-line">&nbsp;&nbsp;ContentType.InlineComponent</div><div class="tb-code-line">&nbsp;&nbsp;ContentType.BlockComponent</div><div class="tb-code-line">])</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<h2>æ•°æ®æ“ä½œ</h2>
<h3>æ’å…¥æ–‡æœ¬</h3><pre theme="dark" lang="TypeScript" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">insert</span>(<span class="tb-hl-string">'hello'</span>)</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<p>æ’æ§½å†…å®¹å°†æ¸²æŸ“ä¸ºï¼š</p><pre theme="dark" lang="HTML" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">Slot</span>&gt;hello&lt;/<span class="tb-hl-tag">Slot</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></pre>
<blockquote class="tb-blockquote">
  <p><strong style="color:#e74f5e">æ³¨æ„ï¼š</strong>ä¸Šé¢æ¸²æŸ“ç»“æœä¸­çš„ Slot æ ‡ç­¾ä»…è¡¨ç¤ºå¤–å±‚å®¹å™¨ï¼Œå®é™…çš„æ ‡ç­¾ä¼šæ ¹æ®ç»„ä»¶æä¾›çš„å®¹å™¨çš„ä¸åŒè€Œä¸åŒã€‚</p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥æ¥ç€å¾€æ’æ§½é‡Œæ’å…¥å†…å®¹ã€‚</p><pre theme="dark" lang="TypeScript" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">insert</span>(<span class="tb-hl-string">' world!'</span>)</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<p>æ’æ§½å†…å®¹å°†æ¸²æŸ“ä¸ºï¼š</p><pre theme="dark" lang="HTML" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">Slot</span>&gt;hello world!&lt;/<span class="tb-hl-tag">Slot</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></pre>
<h3>æ’å…¥å¸¦æ ·å¼çš„æ–‡æœ¬</h3><pre theme="dark" lang="TypeScript" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">insert</span>(<span class="tb-hl-string">' æˆ‘æ˜¯ Textbus'</span>, boldFormatter,&nbsp;<span class="tb-hl-boolean">true</span>)</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<p>æ’æ§½å†…å®¹å°†æ¸²æŸ“ä¸ºï¼š</p><pre theme="dark" lang="HTML" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">Slot</span>&gt;hello world!&lt;<span class="tb-hl-tag">strong</span>&gt; æˆ‘æ˜¯ Textbus&lt;/<span class="tb-hl-tag">strong</span>&gt;&lt;/<span class="tb-hl-tag">Slot</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></pre>
<h3>è‡ªåŠ¨å»¶å±•æ ·å¼</h3><pre theme="dark" lang="TypeScript" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">write</span>(<span class="tb-hl-string">'ï¼Œæ¬¢è¿ä½ ä½¿ç”¨ã€‚'</span>)</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<p>æ’æ§½å†…å®¹å°†æ¸²æŸ“ä¸ºï¼š</p><pre theme="dark" lang="HTML" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">Slot</span>&gt;hello world!&lt;<span class="tb-hl-tag">strong</span>&gt; æˆ‘æ˜¯ Textbusï¼Œæ¬¢è¿ä½ ä½¿ç”¨ã€‚&lt;/<span class="tb-hl-tag">strong</span>&gt;&lt;/<span class="tb-hl-tag">Slot</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></pre>
<p>é€šè¿‡ write æ–¹æ³•ä¼šæŠŠå…‰æ ‡å‰é¢çš„ç´§æŒ¨ç€çš„æ ·å¼è‡ªåŠ¨å»¶å±•åˆ°æ–°æ’å…¥çš„å†…å®¹ä¸Šã€‚</p>
<h3>ç§»åŠ¨ä¸‹æ ‡ä½ç½®</h3>
<p>å½“æˆ‘ä»¬å¾€æ’æ§½å†…æ’å…¥å†…å®¹æ—¶ï¼Œæ’æ§½ä¼šè‡ªåŠ¨æ›´æ–°å†…å®¹çš„ä¸‹æ ‡ä½ç½®ã€‚æ‰€ä»¥æ–°çš„å†…å®¹æ€»æ˜¯ä¼šæ·»åŠ åˆ°æ’æ§½çš„æœ«å°¾ã€‚å½“æˆ‘ä»¬éœ€è¦åœ¨æŒ‡å®šä½ç½®æ’å…¥å†…å®¹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè®¾ç½®ä¸‹æ ‡ï¼Œå†æ’å…¥å†…å®¹ã€‚</p><pre theme="dark" lang="TypeScript" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">retain</span>(<span class="tb-hl-number">0</span>)&nbsp;<span class="tb-hl-comment">// è®¾ç½®ä¸‹æ ‡</span></div><div class="tb-code-line">slot.<span class="tb-hl-function">insert</span>(<span class="tb-hl-string">'ğŸ˜ '</span>)</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<p>æ’æ§½å†…å®¹å°†æ¸²æŸ“ä¸ºï¼š</p><pre theme="dark" lang="HTML" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">Slot</span>&gt;ğŸ˜ hello world!&lt;<span class="tb-hl-tag">strong</span>&gt; æˆ‘æ˜¯ Textbusï¼Œæ¬¢è¿ä½ ä½¿ç”¨ã€‚&lt;/<span class="tb-hl-tag">strong</span>&gt;&lt;/<span class="tb-hl-tag">Slot</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></pre>
<h3>åˆ é™¤å†…å®¹</h3><pre theme="dark" lang="TypeScript" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">cut</span>(<span class="tb-hl-number">0</span>,&nbsp;<span class="tb-hl-number">15</span>)</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<p>æ’æ§½å†…å®¹å°†æ¸²æŸ“ä¸ºï¼š</p><pre theme="dark" lang="HTML" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">Slot</span>&gt;&lt;<span class="tb-hl-tag">strong</span>&gt;æˆ‘æ˜¯ Textbusï¼Œæ¬¢è¿ä½ ä½¿ç”¨ã€‚&lt;/<span class="tb-hl-tag">strong</span>&gt;&lt;/<span class="tb-hl-tag">Slot</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></pre>
<h3>æ·»åŠ æ ·å¼</h3><pre theme="dark" lang="TypeScript" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">applyFormat</span>(colorFormatter, {</div><div class="tb-code-line">&nbsp;&nbsp;startIndex:&nbsp;<span class="tb-hl-number">3</span>,</div><div class="tb-code-line">&nbsp;&nbsp;endIndex:&nbsp;<span class="tb-hl-number">10</span>,</div><div class="tb-code-line">&nbsp;&nbsp;value:&nbsp;<span class="tb-hl-string">'#f00'</span></div><div class="tb-code-line">})</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<p>æ’æ§½å°†æ¸²æŸ“ä¸ºï¼š</p><pre theme="dark" lang="HTML" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">Slot</span>&gt;&lt;<span class="tb-hl-tag">strong</span>&gt;æˆ‘æ˜¯ &lt;<span class="tb-hl-tag">span&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">color</span>: #f00"&gt;Textbus&lt;/<span class="tb-hl-tag">span</span>&gt;ï¼Œæ¬¢è¿ä½ ä½¿ç”¨ã€‚&lt;/<span class="tb-hl-tag">strong</span>&gt;&lt;/<span class="tb-hl-tag">Slot</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></pre>
<p>æ³¨æ„ï¼Œå—çº§æ ·å¼ä¸éœ€è¦æŒ‡å®šèŒƒå›´ï¼Œå¦‚ï¼š</p><pre theme="dark" lang="TypeScript" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">applyFormat</span>(textAlignFormatter,&nbsp;<span class="tb-hl-string">'right'</span>)</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<p>æ’æ§½å°†æ¸²æŸ“ä¸ºï¼š</p><pre theme="dark" lang="HTML" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">Slot&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">text-align</span>: right"&gt;&lt;<span class="tb-hl-tag">strong</span>&gt;æˆ‘æ˜¯ &lt;<span class="tb-hl-tag">span&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">color</span>: #f00"&gt;Textbus&lt;/<span class="tb-hl-tag">span</span>&gt;ï¼Œæ¬¢è¿ä½ ä½¿ç”¨ã€‚&lt;/<span class="tb-hl-tag">strong</span>&gt;&lt;/<span class="tb-hl-tag">Slot</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></pre>
<h3>æ¸…é™¤æ ·å¼</h3><pre theme="dark" lang="TypeScript" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">slot.<span class="tb-hl-function">applyFormat</span>(boldFormatter, {</div><div class="tb-code-line">&nbsp;&nbsp;startIndex:&nbsp;<span class="tb-hl-number">0</span>,</div><div class="tb-code-line">&nbsp;&nbsp;endIndex: slot.length,</div><div class="tb-code-line">&nbsp;&nbsp;value:&nbsp;<span class="tb-hl-keyword">null</span></div><div class="tb-code-line">})</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<p>æ’æ§½å°†æ¸²æŸ“ä¸ºï¼š</p><pre theme="dark" lang="HTML" class="tb-pre"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">&lt;<span class="tb-hl-tag">Slot&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">text-align</span>: right"&gt;æˆ‘æ˜¯ &lt;<span class="tb-hl-tag">span&nbsp;</span><span class="tb-hl-attr-name">style</span>="<span class="tb-hl-attr-name">color</span>: #f00"&gt;Textbus&lt;/<span class="tb-hl-tag">span</span>&gt;ï¼Œæ¬¢è¿ä½ ä½¿ç”¨ã€‚&lt;/<span class="tb-hl-tag">Slot</span>&gt;</div></div><span class="tb-pre-lang">HTML</span></pre>
<p>æ’æ§½ä¹Ÿå¯ä»¥æ’å…¥ç»„ä»¶ï¼Œè¡Œä¸ºå’Œå­—ç¬¦ä¸²æ˜¯ä¸€æ ·çš„ã€‚</p>
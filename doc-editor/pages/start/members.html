<h1>属性和方法</h1>
<p>通过 createEditor 创建的编辑器时，会返回 Editor 的实例。我们可以访问实例上的属性和方法，对接我们自己的需求。</p>
<h2>onReady</h2>
<p>编辑器准备可观察对象，你可以订阅此对象用来监听编辑器是否初始化完成。</p><pre lang="TypeScript"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;editor =&nbsp;<span class="tb-hl-function">createEditor</span>(<span class="tb-hl-string">'#editor'</span>)</div><div class="tb-code-line"><br></div><div class="tb-code-line">editor.onReady.<span class="tb-hl-function">subscribe</span>(() =&gt; {</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-builtin">console</span>.<span class="tb-hl-function">log</span>(<span class="tb-hl-string">'TextBus is ready!'</span>)</div><div class="tb-code-line">})</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<h2>layout</h2>
<p>编辑器布局所用的 DOM 对象集合。</p>
<h2>onChange</h2>
<p>编辑器内容是否变化可观察对象。</p><pre lang="TypeScript"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">editor.onChange.<span class="tb-hl-function">subscribe</span>(() =&gt; {</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-builtin">console</span>.<span class="tb-hl-function">log</span>(<span class="tb-hl-string">'editor content is changed!'</span>)</div><div class="tb-code-line">})</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<h2>injector</h2>
<p>访问编辑内部实例的 IoC 容器。<strong style="color:rgb(231, 79, 94)">注意：需要编辑器初始化完成后才存在</strong>。</p>
<blockquote>
  <p>关于 IoC 容器和依赖注入的相关文档，请参考我的开源库&nbsp;<a target="_blank" href="https://github.com/tbhuabi/di">di</a>。</p>
</blockquote>
<p>通过 injector，你可以获取到 TextBus 内部所有的类的实例，如果在配置项的 providers 数组中配置了你自己的类，你也一样可以从 injector 内获取到对应的实例。</p><pre lang="TypeScript"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">editor.onReady.<span class="tb-hl-function">subscribe</span>(() =&gt; {</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-keyword">const</span>&nbsp;injector = editor.injector</div><div class="tb-code-line"><br></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-comment">// 获取 TextBus Commander 实例</span></div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-keyword">const</span>&nbsp;commander = injector.<span class="tb-hl-function">get</span>(Commander)</div><div class="tb-code-line">&nbsp;&nbsp;<span class="tb-hl-builtin">console</span>.<span class="tb-hl-function">log</span>(commander)</div><div class="tb-code-line">})</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<h2>destroyed</h2>
<p>编辑器是否已销毁。</p>
<h2>isReady</h2>
<p>编辑器是否已准备好。</p>
<h2>options</h2>
<p>初始化编辑器时的配置项。</p>
<h2>init()</h2>
<p>继承自浏览器模块编辑器的初始化方法。如果你直接使用的是 Editor 模块创建编辑器，则无需关心此方法。Editor 会自动调用。</p>
<p>init 方法共有三个参数：</p>
<ol>
  <li>host: 放置浏览器 CoreEditor 的 DOM 节点；</li>
  <li>rootComponentLoader：根组件；</li>
  <li>options：CoreEditor 的配置。</li>
</ol>
<h2>getContents()</h2>
<p>获取以 HTML 主要结果的编辑器内容。</p><pre lang="TypeScript"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;contents = editor.<span class="tb-hl-function">getContents</span>()</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<p>getContents 方法返回一个对象，其中：</p>
<ul>
  <li>content：HTML 文本；</li>
  <li>resourcesList：配置在组件加载器中的 resources 属性值的集合；</li>
  <li>styleSheets：创建编辑器时，配置项中的 styleSheets 的值。</li>
</ul>
<h2>getJSON()</h2>
<p>获取以 JSON 为主要结果的编辑器内容。</p><pre lang="TypeScript"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;contents = editor.<span class="tb-hl-function">getJSON</span>()</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<p>getJSON 方法返回一个对象，其中：</p>
<ul>
  <li>content：JSON 表示的 TextBus 组件树；</li>
  <li>resourcesList：配置在组件加载器中的 resources 属性值的集合；</li>
  <li>styleSheets：创建编辑器时，配置项中的 styleSheets 的值。</li>
</ul>
<h2>replaceContent()</h2>
<p>替换编辑器内容。新内容为一个 HTML 字符串或 TextBus 指定的 JSON 内容。</p><pre lang="TypeScript"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line"><span class="tb-hl-keyword">const</span>&nbsp;newContent =&nbsp;<span class="tb-hl-string">'&lt;p&gt;这里新内容！&lt;/p&gt;'</span></div><div class="tb-code-line"><br></div><div class="tb-code-line">editor.<span class="tb-hl-function">repalceContent</span>(newContent)</div></div><span class="tb-pre-lang">TypeScript</span></pre>
<h2>destroy()</h2>
<p>销毁编辑器实例。</p><pre lang="TypeScript"><div style="width:2em" class="tb-code-line-number-bg"></div><div class="tb-code-content"><div class="tb-code-line">editor.<span class="tb-hl-function">destroy</span>()</div></div><span class="tb-pre-lang">TypeScript</span></pre>
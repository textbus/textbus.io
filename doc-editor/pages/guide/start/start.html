<div data-comopnent="RootComponent" class="xnote-root">
  <div data-placeholder="" class="xnote-content">
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div class="xnote-h1">ç®€ä»‹</div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>Textbus æ˜¯ä¸€ä¸ªä»¥ç»„ä»¶ä¸ºä¸­å¿ƒï¼Œæ•°æ®é©±åŠ¨çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨å¼€å‘æ¡†æ¶ï¼ä¸ºäº†è§£å†³ä¼ ç»Ÿå¯Œæ–‡æœ¬å¼€å‘ä¸­é‡åˆ°çš„å„ç§é—®é¢˜ï¼Œæˆ‘ä»¬å®Œå…¨è‡ªä¸»è®¾è®¡äº†å¯Œæ–‡æœ¬çš„ç»„ä»¶ç³»ç»Ÿå’Œæ ¼å¼ç³»ç»Ÿï¼Œæ—¨åœ¨é™ä½å¯Œæ–‡æœ¬çš„å¼€å‘æˆæœ¬ï¼Œå¸®åŠ©ä½ æ›´è½»æ¾çš„æ‰©å±•å‡ºä¸°å¯Œçš„å¯Œæ–‡æœ¬åŠŸèƒ½ã€‚ä¸ç®¡ä½ æ˜¯å¯Œæ–‡æœ¬å¼€å‘çš„è€é¸Ÿï¼Œäº¦æˆ–æ˜¯å‰ç«¯çš„æ–°æ‰‹ï¼Œä½ éƒ½å°†ä¼šåœ¨ Textbus ä¸­æ„Ÿå—åˆ°éå‡¡çš„å¼€å‘ä½“éªŒå’Œæ‰©å±•èƒ½åŠ›ã€‚</div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>ä» 4.0 å¼€å§‹ï¼ŒTextbus å…¨é¢æ‹¥æŠ±å‰ç«¯ç”Ÿæ€ï¼Œæ”¯æŒ&nbsp;<a href="https://viewfly.org/" target="_blank">Viewfly</a>ã€Vueã€React ç›´æ¥æ¸²æŸ“å¯Œæ–‡æœ¬å†…å®¹ã€‚æ„å‘³ç€ä½ å¯ä»¥æ— ä»»ä½•æˆæœ¬çš„ä½¿ç”¨ä¸€äº›å¼€æºç»„ä»¶åº“ï¼Œæ›´ç®€å•çš„å®ç°å¯Œæ–‡æœ¬ä¸­å„ç§çš„äº¤äº’èƒ½åŠ›ã€‚</div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>Textbus è¿˜æ‹¥æœ‰è¶…å¼ºçš„æ€§èƒ½ï¼Œåœ¨ä½¿ç”¨&nbsp;<a href="https://viewfly.org/" target="_blank">Viewfly</a>&nbsp;ä½œä¸ºæ¸²æŸ“å±‚æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨çº¢æ¥¼æ¢¦ä½œä¸ºæµ‹è¯•æ ·æœ¬ï¼ŒTextbus å¯ä»¥å®ç°&nbsp;<strong style="color:rgb(18, 150, 219)">5 ä¸‡ä¸ªæ®µè½æ— å¡é¡¿ç¼–è¾‘ï¼Œè¿™ç›¸å½“äº 15 æœ¬çº¢æ¥¼æ¢¦å…± 1700 ä¸‡å­—åŒæ—¶åœ¨ä¸€ä¸ªæ–‡æ¡£å†…</strong>&nbsp;(ä¸€æœ¬çº¢æ¥¼æ¢¦å¤§çº¦ 3100 ä¸ªæ®µè½ï¼‰ï¼Œè¿™åœ¨ä»¥å‰æ˜¯ä¸å¯æƒ³è±¡çš„ã€‚</div>
    </div>
    <blockquote data-component="BlockquoteComponent" class="xnote-blockquote">
      <div>
        <div data-component="ParagraphComponent" class="xnote-paragraph">
          <div><strong style="color:rgb(255, 46, 46)">æç¤º</strong>ï¼šä» 4.0 å¼€å§‹ï¼ŒTextbus ä»“åº“å°†ä¸å†æä¾›é»˜è®¤çš„ç¼–è¾‘å™¨ï¼Œä¸è¿‡æˆ‘ä»¬é‡æ–°å¼€å‘äº† XNote å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä»“åº“åœ°å€ï¼š<a href="https://github.com/textbus/xnote" target="_blanK">https://github.com/textbus/xnote</a>ã€‚ä½ å¯ä»¥é˜…è¯»æ–‡æ¡£å¹¶å¼€å‘è‡ªå·±çš„ç¼–è¾‘å™¨ï¼Œæˆ–è€… github issue ç•™è¨€å’¨è¯¢ç›¸å…³é—®é¢˜ã€‚</div>
        </div>
      </div>
    </blockquote>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>è®©æˆ‘ä»¬å¼€å§‹å§ï¼</div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div class="xnote-h2">æ€»è§ˆ</div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>Textbus 4.0 æ€»å…±æœ‰ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦å®‰è£…ç›¸å…³æ¨¡å—ã€‚</div>
    </div>
    <ul data-component="ListComponent" data-reorder="true" style="margin-left:0px" class="xnote-list">
      <li>
        <div class="xnote-list-type"><span class="xnote-order-btn">â€¢</span></div>
        <div class="xnote-list-content"><strong style="color:rgb(18, 150, 219)">@textbus/core</strong>&nbsp;Textbus å†…æ ¸ï¼Œå°è£…äº†å¯Œæ–‡æœ¬æ‰€éœ€çš„ç»„ä»¶ã€æ ¼å¼ã€é€‰åŒºã€æ•°æ®æ“ä½œã€å†å²è®°å½•ã€å¿«æ·é”®ã€è¯­æ³•ç³–ç­‰ç›¸å…³åŠŸèƒ½</div>
      </li>
    </ul>
    <ul data-component="ListComponent" data-reorder="true" style="margin-left:0px" class="xnote-list">
      <li>
        <div class="xnote-list-type"><span class="xnote-order-btn">â€¢</span></div>
        <div class="xnote-list-content"><strong style="color:rgb(18, 150, 219)">@textbus/platform-browser</strong>&nbsp;Textbus åœ¨æµè§ˆå™¨è¿è¡Œæ‰€éœ€è¦çš„åŸºç¡€æ¨¡å—</div>
      </li>
    </ul>
    <ul data-component="ListComponent" data-reorder="true" style="margin-left:0px" class="xnote-list">
      <li>
        <div class="xnote-list-type"><span class="xnote-order-btn">â€¢</span></div>
        <div class="xnote-list-content"><strong style="color:rgb(18, 150, 219)">@textbus/platform-node</strong>&nbsp;Textbus åœ¨ node ç¯å¢ƒæ”¯æŒæ‰€éœ€è¦çš„åŸºç¡€æ¨¡å—</div>
      </li>
    </ul>
    <ul data-component="ListComponent" data-reorder="true" style="margin-left:0px" class="xnote-list">
      <li>
        <div class="xnote-list-type"><span class="xnote-order-btn">â€¢</span></div>
        <div class="xnote-list-content"><strong style="color:rgb(18, 150, 219)">@textbus/collaborate</strong>&nbsp;Textbus åä½œèƒ½åŠ›æ”¯æŒæ¨¡å—ï¼ˆYjs ç‰ˆï¼‰</div>
      </li>
    </ul>
    <ul data-component="ListComponent" data-reorder="true" style="margin-left:0px" class="xnote-list">
      <li>
        <div class="xnote-list-type"><span class="xnote-order-btn">â€¢</span></div>
        <div class="xnote-list-content"><strong style="color:rgb(18, 150, 219)">@textbus/adapter-viewfly</strong>&nbsp;Textbus ä½¿ç”¨&nbsp;<a href="https://viewfly.org/" target="_blank">Viewfly</a>&nbsp;ä½œæ¸²æŸ“å®ç°æ—¶çš„é€‚é…å™¨</div>
      </li>
    </ul>
    <ul data-component="ListComponent" data-reorder="true" style="margin-left:0px" class="xnote-list">
      <li>
        <div class="xnote-list-type"><span class="xnote-order-btn">â€¢</span></div>
        <div class="xnote-list-content"><strong style="color:rgb(18, 150, 219)">@textbus/adapter-vue</strong>&nbsp;Textbus ä½¿ç”¨ Vue ä½œæ¸²æŸ“å®ç°æ—¶çš„é€‚é…å™¨</div>
      </li>
    </ul>
    <ul data-component="ListComponent" data-reorder="true" style="margin-left:0px" class="xnote-list">
      <li>
        <div class="xnote-list-type"><span class="xnote-order-btn">â€¢</span></div>
        <div class="xnote-list-content"><strong style="color:rgb(18, 150, 219)">@textbus/adapter-react</strong>&nbsp;Textbus ä½¿ç”¨ React ä½œæ¸²æŸ“å®ç°æ—¶çš„é€‚é…å™¨</div>
      </li>
    </ul>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div class="xnote-h1">å¼€å§‹</div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>Textbus å®˜æ–¹æ–‡æ¡£å°†ä¼šä»¥&nbsp;<a href="https://viewfly.org/" target="_blank">Viewfly</a>&nbsp;ä½œä¸ºé»˜è®¤è§†å›¾å®ç°ï¼Œå¸®åŠ©å¤§å®¶ä¸€æ­¥æ­¥å®ç°è‡ªå·±çš„ç¼–è¾‘å™¨ã€‚</div>
    </div>
    <div data-component="HighlightBoxComponent" data-icon="ğŸ‰" class="xnote-highlight-box">
      <div class="xnote-highlight-box-left">
        <div class="xnote-highlight-box-icon"><button type="button">ğŸ‰</button></div>
      </div>
      <div class="xnote-highlight-box-content">
        <div data-component="ParagraphComponent" class="xnote-paragraph">
          <div>Viewfly æ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨ã€é«˜æ€§èƒ½çš„å‰ç«¯è§†å›¾åº“ï¼Œé€šè¿‡å‡ ä¸ªå°‘é‡çš„ API å’Œ jsxï¼Œå³å¯å¼€å‘å‡ºå¯Œäº¤äº’çš„ç”¨æˆ·ç•Œé¢ã€‚</div>
        </div>
      </div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div class="xnote-h3">å®‰è£…ä¾èµ–</div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>é€šè¿‡ npm å®‰è£… Viewflyï¼š</div>
    </div>
    <div data-lang="" data-component="SourceCodeComponent" data-auto-break="false" data-theme="xnote-dark-blue" data-line-number="false" class="xnote-source-code xnote-dark-blue">
      <div class="xnote-source-code-container hljs">
        <div style="width:2.5em" class="xnote-source-code-line-number-bg"></div><pre style="padding-left:2.5em;margin-left:-2.5em" class="xnote-source-code-content"><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">npm install @viewfly/core @viewfly/platform-browser</span></div></pre><span class="xnote-source-code-lang"></span>
      </div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>å®‰è£… Textbusï¼š</div>
    </div>
    <div data-lang="" data-component="SourceCodeComponent" data-auto-break="false" data-theme="xnote-dark-blue" data-line-number="false" class="xnote-source-code xnote-dark-blue">
      <div class="xnote-source-code-container hljs">
        <div style="width:2.5em" class="xnote-source-code-line-number-bg"></div><pre style="padding-left:2.5em;margin-left:-2.5em" class="xnote-source-code-content"><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">npm install @textbus/core @textbus/platform-browser @textbus/adapter-viewfly</span></div></pre><span class="xnote-source-code-lang"></span>
      </div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>æˆ‘ä»¬å®‰è£…äº† Textbus ä¸‹çš„ï¼š</div>
    </div>
    <ul data-component="ListComponent" data-reorder="true" style="margin-left:0px" class="xnote-list">
      <li>
        <div class="xnote-list-type"><span class="xnote-order-btn">â€¢</span></div>
        <div class="xnote-list-content"><strong style="color:rgb(58, 170, 250)">core</strong>&nbsp;ä½¿ç”¨ Textbus å¿…ä¸å¯å°‘çš„ä¾èµ–</div>
      </li>
    </ul>
    <ul data-component="ListComponent" data-reorder="true" style="margin-left:0px" class="xnote-list">
      <li>
        <div class="xnote-list-type"><span class="xnote-order-btn">â€¢</span></div>
        <div class="xnote-list-content"><strong style="color:rgb(58, 170, 250)">platform-browser</strong>&nbsp;Textbus åœ¨æµè§ˆå™¨è¿è¡Œæ‰€å¿…é¡»çš„ç¯å¢ƒæ”¯æŒæ¨¡å—</div>
      </li>
    </ul>
    <ul data-component="ListComponent" data-reorder="true" style="margin-left:0px" class="xnote-list">
      <li>
        <div class="xnote-list-type"><span class="xnote-order-btn">â€¢</span></div>
        <div class="xnote-list-content"><strong style="color:rgb(58, 170, 250)">adapter-viewfly</strong>&nbsp;ä½¿ç”¨ Viewfly æ¸²æŸ“ Textbus ç»„ä»¶æ‰€å¿…é¡»çš„é€‚é…å™¨</div>
      </li>
    </ul>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>è¿˜å®‰è£…äº† Viewfly ä¸‹çš„ï¼š</div>
    </div>
    <ul data-component="ListComponent" data-reorder="true" style="margin-left:0px" class="xnote-list">
      <li>
        <div class="xnote-list-type"><span class="xnote-order-btn">â€¢</span></div>
        <div class="xnote-list-content"><strong style="color:rgb(58, 170, 250)">core</strong>&nbsp;Viewfly å†…æ ¸</div>
      </li>
    </ul>
    <ul data-component="ListComponent" data-reorder="true" style="margin-left:0px" class="xnote-list">
      <li>
        <div class="xnote-list-type"><span class="xnote-order-btn">â€¢</span></div>
        <div class="xnote-list-content"><strong style="color:rgb(58, 170, 250)">platform-browser</strong>&nbsp;Viewfly åœ¨æµè§ˆå™¨è¿è¡Œæ‰€å¿…é¡»çš„ç¯å¢ƒæ”¯æŒæ¨¡å—</div>
      </li>
    </ul>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div class="xnote-h2">åˆ›å»ºç¬¬ä¸€ä¸ªç¼–è¾‘å™¨</div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>å…ˆå‡†å¤‡ä¸€ä¸ªç©ºçš„ DOM èŠ‚ç‚¹ç”¨äºæ¸²æŸ“ç¼–è¾‘å™¨ã€‚</div>
    </div>
    <div data-lang="HTML" data-component="SourceCodeComponent" data-auto-break="false" data-theme="xnote-dark-blue" data-line-number="true" class="xnote-source-code xnote-source-code-line-number xnote-dark-blue">
      <div class="xnote-source-code-container hljs">
        <div style="width:2.5em" class="xnote-source-code-line-number-bg"></div><pre style="padding-left:2.5em;margin-left:-2.5em" class="xnote-source-code-content"><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&nbsp;<span class="hljs-attr">id</span>=<span class="hljs-string">"editor"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></div></pre><span class="xnote-source-code-lang">HTML</span>
      </div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div class="xnote-h3">åˆ›å»ºæ ¹ç»„ä»¶</div>
    </div>
    <div data-lang="TypeScript" data-component="SourceCodeComponent" data-auto-break="false" data-theme="xnote-dark-blue" data-line-number="true" class="xnote-source-code xnote-source-code-line-number xnote-dark-blue">
      <div class="xnote-source-code-container hljs">
        <div style="width:2.5em" class="xnote-source-code-line-number-bg"></div><pre style="padding-left:2.5em;margin-left:-2.5em" class="xnote-source-code-content"><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-comment">// # root.component.tsx</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-keyword">import</span>&nbsp;{&nbsp;<span class="hljs-title class_">Component</span>,&nbsp;<span class="hljs-title class_">ContentType</span>&nbsp;}&nbsp;<span class="hljs-keyword">from</span>&nbsp;<span class="hljs-string">'@textbus/core'</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-keyword">import</span>&nbsp;{&nbsp;<span class="hljs-title class_">ViewComponentProps</span>&nbsp;}&nbsp;<span class="hljs-keyword">from</span>&nbsp;<span class="hljs-string">'@textbus/adapter-viewfly'</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><br></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-comment">// å®šä¹‰ Textbus æ ¹ç»„ä»¶æ•°æ®æ¨¡å‹</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-keyword">export</span>&nbsp;<span class="hljs-keyword">class</span>&nbsp;<span class="hljs-title class_">RootComponent</span>&nbsp;<span class="hljs-keyword">extends</span>&nbsp;<span class="hljs-title class_ inherited__">Component</span>&nbsp;{</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;<span class="hljs-keyword">static</span>&nbsp;componentName =&nbsp;<span class="hljs-string">'RootComponent'</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;<span class="hljs-keyword">static</span>&nbsp;<span class="hljs-keyword">type</span>&nbsp;=&nbsp;<span class="hljs-title class_">ContentType</span>.<span class="hljs-property">BlockComponent</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">}</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><br></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-comment">// åˆ›å»º RootComponentView ç»„ä»¶ç”¨äºæ¸²æŸ“ Textbus æ ¹ç»„ä»¶</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-keyword">export</span>&nbsp;<span class="hljs-keyword">const</span>&nbsp;<span class="hljs-title function_">RootComponentView</span>&nbsp;= (<span class="hljs-params">props: ViewComponentProps&lt;RootComponent&gt;</span>) =&gt; {</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;<span class="hljs-keyword">return</span>&nbsp;<span class="hljs-function">() =&gt;</span>&nbsp;{</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span>&nbsp;<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&nbsp;<span class="hljs-attr">ref</span>=<span class="hljs-string">{props.rootRef}</span>&gt;</span>è¿™æ˜¯ Textbus å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæˆ‘æ˜¯ {props.component.name} ç»„ä»¶ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;}</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">}</span></div></pre><span class="xnote-source-code-lang">TypeScript</span>
      </div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>åˆ›å»ºä¸€ä¸ªç©ºç¼–è¾‘å™¨ï¼Œå¹¶æ¸²æŸ“åˆ°æŒ‡å®š DOM å…ƒç´ å†…ã€‚</div>
    </div>
    <div data-lang="TypeScript" data-component="SourceCodeComponent" data-auto-break="false" data-theme="xnote-dark-blue" data-line-number="true" class="xnote-source-code xnote-source-code-line-number xnote-dark-blue">
      <div class="xnote-source-code-container hljs">
        <div style="width:2.5em" class="xnote-source-code-line-number-bg"></div><pre style="padding-left:2.5em;margin-left:-2.5em" class="xnote-source-code-content"><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-comment">// # editor.ts</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-keyword">import</span>&nbsp;{&nbsp;<span class="hljs-title class_">ContentType</span>,&nbsp;<span class="hljs-title class_">Textbus</span>&nbsp;}&nbsp;<span class="hljs-keyword">from</span>&nbsp;<span class="hljs-string">'@textbus/core'</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-keyword">import</span>&nbsp;{&nbsp;<span class="hljs-title class_">ViewflyAdapter</span>&nbsp;}&nbsp;<span class="hljs-keyword">from</span>&nbsp;<span class="hljs-string">'@textbus/adapter-viewfly'</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-keyword">import</span>&nbsp;{&nbsp;<span class="hljs-title class_">BrowserModule</span>&nbsp;}&nbsp;<span class="hljs-keyword">from</span>&nbsp;<span class="hljs-string">'@textbus/platform-browser'</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-keyword">import</span>&nbsp;{ createApp }&nbsp;<span class="hljs-keyword">from</span>&nbsp;<span class="hljs-string">'@viewfly/platform-browser'</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><br></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-keyword">import</span>&nbsp;{&nbsp;<span class="hljs-title class_">RootComponentView</span>,&nbsp;<span class="hljs-title class_">RootComponent</span>&nbsp;}&nbsp;<span class="hljs-keyword">from</span>&nbsp;<span class="hljs-string">'./root.component'</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><br></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-comment">// åˆ›å»º Viewfly é€‚é…å™¨ï¼Œç”¨äºæ¡¥æ¥ Textbus å’Œ Viewfly</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-keyword">const</span>&nbsp;adapter =&nbsp;<span class="hljs-keyword">new</span>&nbsp;<span class="hljs-title class_">ViewflyAdapter</span>({</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;[<span class="hljs-title class_">RootComponent</span>.<span class="hljs-property">componentName</span>]:&nbsp;<span class="hljs-title class_">RootComponentView</span>&nbsp;<span class="hljs-comment">// å£°æ˜ Textbus æ ¹ç»„ä»¶ç”¨ RootComponentView ç»„ä»¶æ¸²æŸ“</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">},&nbsp;<span class="hljs-function">(<span class="hljs-params">host, root, textbus</span>) =&gt;</span>&nbsp;{</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;<span class="hljs-comment">// host ä¸º Textbus åˆ›å»ºçš„ç”¨äºæ¸²æŸ“æ–‡æ¡£çš„å®¹å™¨</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;<span class="hljs-comment">// root ä¸º Viewfly çš„æ ¹ç»„ä»¶ï¼Œå³ RootComponentView ç»„ä»¶</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><br></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;<span class="hljs-comment">// ä½¿ç”¨ Viewfly åˆ›å»ºä¸€ä¸ªç¼–è¾‘å™¨è§†å›¾</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;<span class="hljs-keyword">const</span>&nbsp;app =&nbsp;<span class="hljs-title function_">createApp</span>(root, {</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">// ä½¿ç”¨ Textbus å®ä¾‹ä½œä¸º Viewfly App çš„ä¸Šä¸‹æ–‡ï¼Œè¿™æ ·</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">// æˆ‘ä»¬å°±å¯ä»¥åœ¨ Viewfly ç»„ä»¶å†…é€šè¿‡ inject å‡½æ•°æ³¨å…¥ Textbus å®ä¾‹</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">// ä¸­åŒ…å«çš„å†…éƒ¨å¯¹è±¡äº†</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">context</span>: textbus</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;}).<span class="hljs-title function_">mount</span>(host)</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;<span class="hljs-comment">// è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå½“ Textbus é”€æ¯æ—¶ï¼ŒåŒæ—¶é”€æ¯ Viewlfy å®ä¾‹</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;<span class="hljs-keyword">return</span>&nbsp;<span class="hljs-function">() =&gt;</span>&nbsp;{</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;&nbsp;&nbsp;app.<span class="hljs-title function_">destroy</span>()</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;}</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">})</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><br></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-comment">// åˆ›å»º Textbus æµè§ˆå™¨å¹³å°è¿è¡Œç¯å¢ƒæ¨¡å—</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-keyword">const</span>&nbsp;browserModule =&nbsp;<span class="hljs-keyword">new</span>&nbsp;<span class="hljs-title class_">BrowserModule</span>({</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;adapter,&nbsp;<span class="hljs-comment">// æ·»åŠ  Viewfly é€‚é…å™¨</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;<span class="hljs-title function_">renderTo</span>(<span class="hljs-params"></span>) {</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span>&nbsp;<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'editor'</span>)!</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;}</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">})</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><br></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-comment">// åˆ›å»º Textbus å®ä¾‹</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-keyword">const</span>&nbsp;textbus =&nbsp;<span class="hljs-keyword">new</span>&nbsp;<span class="hljs-title class_">Textbus</span>({</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;<span class="hljs-attr">imports</span>: [</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;&nbsp;&nbsp;browserModule&nbsp;<span class="hljs-comment">// æ·»åŠ æµè§ˆå™¨æ”¯æŒæ¨¡å—</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;]</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">})</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><br></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ•°æ®æ¨¡å‹</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-keyword">const</span>&nbsp;rootModel =&nbsp;<span class="hljs-keyword">new</span>&nbsp;<span class="hljs-title class_">RootComponent</span>(textbus, {})</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-comment">// æ¸²æŸ“æ•°æ®æ¨¡å‹</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">textbus.<span class="hljs-title function_">render</span>(rootModel)</span></div></pre><span class="xnote-source-code-lang">TypeScript</span>
      </div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>ä¸Šé¢çš„ä»£ç å¯¹äºåˆšä¸Šæ‰‹çš„ä½ æ¥è¯´ï¼Œå¯èƒ½æœ‰ç‚¹å¤æ‚ï¼Œè¿™æ˜¯å› ä¸º Textbus è¦ä¿æŒæœ€å¤§çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§åšå‡ºçš„å¿…è¦å¦¥åã€‚ä¸è¿‡åé¢çš„å¼€å‘æˆ‘ä»¬åªä¼šåœ¨ä¸Šé¢çš„ä»£ç ä¸­å¢åŠ ä¸€äº›å£°æ˜ï¼Œä¸ä¼šæœ‰å…¶å®ƒæ”¹åŠ¨äº†ã€‚<br></div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œä½ ç°åœ¨åº”è¯¥å¯ä»¥åœ¨æµè§ˆå™¨çœ‹åˆ° RootComponentView ç»„ä»¶çš„å†…å®¹æ¸²æŸ“åˆ°é¡µé¢äº†ã€‚</div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>ç›®å‰æˆ‘ä»¬åˆ›å»ºçš„ç¼–è¾‘å™¨æ˜¯ä¸å¯ç¼–è¾‘çš„ï¼Œè¿™æ˜¯æ­£å¸¸æƒ…å†µï¼Œåœ¨ Textbus ä¸­ï¼Œä»»æ„ç»„ä»¶çš„å†…å®¹éƒ½ä¸å¯ä»¥é€šè¿‡å…‰æ ‡å»ç¼–è¾‘çš„ï¼Œè¦æƒ³å†…å®¹æ”¯æŒç¼–è¾‘ï¼Œæˆ‘ä»¬éœ€è¦ç»™ç»„ä»¶æ·»åŠ æ’æ§½æ¥å®ç°ã€‚</div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div class="xnote-h2">æµè§ˆå™¨å…¼å®¹</div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>Textbus å…¼å®¹ç°ä»£æµè§ˆå™¨ï¼ŒåŒ…æ‹¬ Chromeã€Firefoxã€Safariã€Edge ç­‰ã€‚</div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div class="xnote-h3">å…¼å®¹è¡¥ä¸</div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>å·²çŸ¥ Firefox ä¸æ”¯æŒ&nbsp;<code class="xnote-code">Intl.Segmenter</code>ï¼Œéœ€è¦åœ¨ Textbus å¯åŠ¨ä¹‹å‰æ‰“ä¸Šç‰¹å®šè¡¥ä¸ã€‚</div>
    </div>
    <div data-lang="" data-component="SourceCodeComponent" data-auto-break="false" data-theme="xnote-dark-blue" data-line-number="false" class="xnote-source-code xnote-dark-blue">
      <div class="xnote-source-code-container hljs">
        <div style="width:2.5em" class="xnote-source-code-line-number-bg"></div><pre style="padding-left:2.5em;margin-left:-2.5em" class="xnote-source-code-content"><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">npm install intl-segmenter-polyfill</span></div></pre><span class="xnote-source-code-lang"></span>
      </div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div>åœ¨ Textbus å¯åŠ¨æ—¶ï¼Œæ‰“ä¸Šè¡¥ä¸</div>
    </div>
    <div data-lang="TypeScript" data-component="SourceCodeComponent" data-auto-break="false" data-theme="xnote-dark-blue" data-line-number="true" class="xnote-source-code xnote-source-code-line-number xnote-dark-blue">
      <div class="xnote-source-code-container hljs">
        <div style="width:2.5em" class="xnote-source-code-line-number-bg"></div><pre style="padding-left:2.5em;margin-left:-2.5em" class="xnote-source-code-content"><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-keyword">async</span>&nbsp;<span class="hljs-keyword">function</span>&nbsp;<span class="hljs-title function_">createEditor</span>(<span class="hljs-params"></span>) {</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;<span class="hljs-keyword">if</span>&nbsp;(!<span class="hljs-title class_">Intl</span>.<span class="hljs-property">Segmenter</span>) {</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span>&nbsp;polyfill =&nbsp;<span class="hljs-keyword">await</span>&nbsp;<span class="hljs-keyword">import</span>(<span class="hljs-string">'intl-segmenter-polyfill/dist/bundled'</span>);</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;&nbsp;&nbsp;(<span class="hljs-title class_">Intl</span>&nbsp;<span class="hljs-keyword">as</span>&nbsp;<span class="hljs-built_in">any</span>).<span class="hljs-property">Segmenter</span>&nbsp;=&nbsp;<span class="hljs-keyword">await</span>&nbsp;polyfill.<span class="hljs-title function_">createIntlSegmenterPolyfill</span>()</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;}</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><br></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">&nbsp;&nbsp;<span class="hljs-comment">// ä»è¿™é‡Œå¼€å§‹åˆ›å»ºç¼–è¾‘å™¨</span></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content">}</span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><br></span></div><div class="xnote-source-code-line"><span class="xnote-source-code-line-content"><span class="hljs-title function_">createEditor</span>()</span></div></pre><span class="xnote-source-code-lang">TypeScript</span>
      </div>
    </div>
    <div data-component="ParagraphComponent" class="xnote-paragraph">
      <div><br></div>
    </div>
  </div>
</div>